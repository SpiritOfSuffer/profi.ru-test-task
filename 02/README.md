# profi.ru-test-task
Link contractor(Node.js)

## Task

ะัะตะดะฟะพะปะพะถะธะผ, ะผั ัะพัะธะผ ะฝะฐะฟะธัะฐัั ัะฒะพะน ัะพะฑััะฒะตะฝะฝัะน ัะพะบัะฐัะฐัะตะปั ัััะปะพะบ (ัะฐะบะพะน,
ะบะฐะบ bit.ly), ะธ ะฟะพะฟัะพัะธะปะธ ะฒะฐั ะฝะฐะฟะธัะฐัั API, ะบะพัะพััะน ะฑัะดะตั ัะตะฐะปะธะทะพะฒัะฒะฐัั
ะพัะฝะพะฒะฝัั ััะฝะบัะธะพะฝะฐะปัะฝะพััั ัะตัะฒะธัะฐ.

ะะปั ะฟะพะปัะทะพะฒะฐัะตะปั ะดะพะปะถะฝั ะฑััั ะดะพัััะฟะฝั ัะปะตะดัััะธะต ะฒะพะทะผะพะถะฝะพััะธ:

1. ะกะพะทะดะฐัั ะฝะพะฒัั ัะพะบัะฐัะตะฝะฝัั ัััะปะบั (ะดะฐัั ะดะปะธะฝะฝัั, ะฟะพะปััะธัั ะบะพัะพัะบัั)
2. ะะตัะตะนัะธ ะฟะพ ะบะพัะพัะบะพะน ัััะปะบะต ะธ ะฑััั ะฟะตัะตะฝะฐะฟัะฐะฒะปะตะฝะฝัะผ ะฝะฐ ะธััะพะดะฝัั ะดะปะธะฝะฝัั ัััะปะบั
3. ะัะพัะผะพััะตัั ัะฟะธัะพะบ ยซัะฒะพะธัยป ัััะปะพะบ, ะบะพัะพััะต ะพะฝ ัะพะบัะฐัะฐะป
4. ะัะพัะผะพััะตัั ััะฐัะธััะธะบั ะฟะตัะตัะพะดะพะฒ ะฟะพ ะบะฐะถะดะพะน ัััะปะบะต

## Desc
ะ ะบะฐัะตััะฒะต ะะ ะธัะฟะพะปัะทัะตััั no-sql ััะฐะฝะธะปะธัะต MongoDB. ะะ ัะฐะทะฒะตัะฝััะฐ ะฝะฐ 
ัะดะฐะปะตะฝะฝะพะผ ัะตััััะต (mlab). ะะปั ัะพะบัะฐัะตะฝะธั ัััะปะพะบ ะธัะฟะพะปัะทัะตััั node-emoji,
ะบะพัะพัะฐั ะณะตะฝะตัะธััะตั ัััะปะบั ะธะท 5ัะธ emoji. ะะปั ัะพะทะดะฐะฝะธั REST ัะตัะฒะธัะฐ ะธัะฟะพะปัะทัะตััั Express.

## Endpoints
*followCount - ะบะพะปะธัะตััะฒะพ ะฟะตัะตัะพะดะพะฒ ะฟะพ ัััะปะบะต

### GET /api/getAll
ะะพะปััะตะฝะธะต ะฒัะตั ัััะปะพะบ
Example: http://localhost:5000/api/getAll
ะะพะทะฒัะฐัะฐะตั json: 
```json
[
    {
        "_id": "5d839731c34d7d3a70f33a10",
        "url": "https://stackoverflow.com",
        "url_short": "https://โญ๏ธโญ๏ธ.ws/๐น๐ด๐บ๐๐๐ฑ๐ป",
        "followCount": 1,
        "createdAt": "2019-09-19T14:56:49.686Z"
    },
    {
        "_id": "5d826cecfedcfa3f30e4171f",
        "url": "https://yandex.com",
        "url_short": "https://โญ๏ธโญ๏ธ.ws/๐น๐ฆ๐ด๐ค๏ธ๐โ",
        "followCount": 3,
        "createdAt": "2019-09-18T17:44:12.183Z"
    },
    {
        "_id": "5d826675bda1ec2d50023fb7",
        "url": "https://google.com",
        "url_short": "https://โญ๏ธโญ๏ธ.ws/๐งโโ๏ธโ๏ธ๐๐ฒ๐บ๐ซ",
        "followCount": 0,
        "createdAt": "2019-09-18T17:16:37.375Z"
    },
    {
        "_id": "5d82666ebda1ec2d50023fb6",
        "url": "https://vk.com",
        "url_short": "https://โญ๏ธโญ๏ธ.ws/๐๐๐๐จโ๐จโ๐งโ๐ง๐ณ",
        "followCount": 2,
        "createdAt": "2019-09-18T17:16:30.345Z"
    }
]

```

### POST /api/saveUrl
ะกะพะทะดะฐะฝะธะต ัะพะบัะฐัะตะฝะฝะพะน ัััะปะบะธ
Example: http://localhost:5000/api/saveUrl
req.body: 
```json
{
	"long_url": "https://yandex.com"
}
```

ะะพะทะฒัะฐัะฐะตั json:
```json
{
        "success": true,
        "result": "shortUrl"
}
```
### GET /api/:id
ะะตัะตัะพะด ะฟะพ ัะพะบัะฐัะตะฝะฝะพะน ัััะปะบะต
Example: http://localhost:5000/api/๐งโโ๏ธโ๏ธ๐๐ฒ๐บ๐ซ, ะณะดะต ๐งโโ๏ธโ๏ธ๐๐ฒ๐บ๐ซ - ัะพะบัะฐัะตะฝะฝะฐั ัััะปะบะฐ.
ะัะปะธ ัะฐะบะฐั ัััะปะบะฐ ัััะตััะฒัะตั, ะฟัะพะธะทะพะนะดะตั ะฟะตัะตะฐะดัะตัะฐัะธั ะฝะฐ ะฝะฐััะพัััั ัััะปะบั. ะัะพะฒะตัะธัั ะผะพะถะฝะพ, ะทะฐะฟัััะธะฒ ะดะฐะฝะฝัะน ะทะฐะฟัะพั ะฒ ะฑัะฐัะทะตัะต.

### GET /api/statistics/:id
ะะพะปััะตะฝะธะต ััะฐัะธััะธะบะธ ะฟะพ ะบะพะฝะบัะตัะฝะพะน ัััะปะบะต
Example: http://localhost:5000/api/statistics/5d839731c34d7d3a70f33a10
ะะพะทะฒัะฐัะฐะตั json:
```json
{
    "item": {
        "_id": "5d839731c34d7d3a70f33a10",
        "url": "https://stackoverflow.com",
        "url_short": "https://โญ๏ธโญ๏ธ.ws/๐น๐ด๐บ๐๐๐ฑ๐ป",
        "followCount": 1,
        "createdAt": "2019-09-19T14:56:49.686Z"
    }
}
```

## How to run

Install dependencies - **```npm install```**  
Run **```npm run start```** or **```npm run dev```** (to run dev server)
Go to **localhost:5000**
